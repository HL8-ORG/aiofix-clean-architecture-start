# IAMç³»ç»Ÿé¡¹ç›®è®¾ç½®æ€»ç»“

## ğŸ‰ é¡¹ç›®åˆå§‹åŒ–å®Œæˆ

### âœ… å·²å®Œæˆçš„å·¥ä½œ

#### 1. é¡¹ç›®åŸºç¡€è®¾ç½®
- âœ… **NestJSé¡¹ç›®ç»“æ„**: å®Œæ•´çš„é¡¹ç›®ç»“æ„å·²åˆ›å»º
- âœ… **TypeScripté…ç½®**: ä¸¥æ ¼æ¨¡å¼ï¼ŒES2023ç›®æ ‡
- âœ… **ä»£ç è´¨é‡å·¥å…·**: ESLint + Prettieré…ç½®å®Œæˆ
- âœ… **Gité’©å­**: Husky + Commitlinté…ç½®å®Œæˆ
- âœ… **æµ‹è¯•æ¡†æ¶**: Jesté…ç½®å®Œæˆ

#### 2. ä¾èµ–ç®¡ç†
- âœ… **æ ¸å¿ƒä¾èµ–**: æ‰€æœ‰å¿…éœ€çš„ä¾èµ–åŒ…å·²å®‰è£…
- âœ… **ç‰ˆæœ¬å…¼å®¹æ€§**: è§£å†³äº†MikroORMå’ŒCASLç‰ˆæœ¬é—®é¢˜
- âœ… **Monorepoé…ç½®**: pnpm workspace + Turboé…ç½®å®Œæˆ

#### 3. å…±äº«å±‚åŸºç¡€ç»„ä»¶
- âœ… **åŸºç¡€å®ä½“**: BaseEntityåŸºç±»å·²åˆ›å»º
- âœ… **å€¼å¯¹è±¡**: BaseValueObjectåŸºç±»å·²åˆ›å»º
- âœ… **é¢†åŸŸäº‹ä»¶**: BaseEventåŸºç±»å·²åˆ›å»º

#### 4. å¼€å‘å·¥å…·
- âœ… **æ™ºèƒ½å®‰è£…è„šæœ¬**: è‡ªåŠ¨è§£å†³ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜
- âœ… **å¼€å‘å¯åŠ¨è„šæœ¬**: ä¸€é”®å¯åŠ¨å¼€å‘ç¯å¢ƒ
- âœ… **çŠ¶æ€æ£€æŸ¥è„šæœ¬**: é¡¹ç›®çŠ¶æ€éªŒè¯å·¥å…·

### ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
aiofix-clean-architecture-start/
â”œâ”€â”€ apps/
â”‚   â””â”€â”€ api/                          # APIé¡¹ç›®
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ shared/               # å…±äº«å±‚
â”‚       â”‚   â”‚   â”œâ”€â”€ domain/           # å…±äº«é¢†åŸŸ
â”‚       â”‚   â”‚   â”œâ”€â”€ infrastructure/   # å…±äº«åŸºç¡€è®¾æ–½
â”‚       â”‚   â”‚   â”œâ”€â”€ application/      # å…±äº«åº”ç”¨å±‚
â”‚       â”‚   â”‚   â””â”€â”€ presentation/     # å…±äº«è¡¨ç°å±‚
â”‚       â”‚   â””â”€â”€ modules/              # ä¸šåŠ¡æ¨¡å—
â”‚       â”‚       â”œâ”€â”€ tenant-management/
â”‚       â”‚       â”œâ”€â”€ user-management/
â”‚       â”‚       â”œâ”€â”€ permission-management/
â”‚       â”‚       â”œâ”€â”€ organization-management/
â”‚       â”‚       â”œâ”€â”€ authentication/
â”‚       â”‚       â”œâ”€â”€ application-review/
â”‚       â”‚       â””â”€â”€ audit-monitoring/
â”‚       â””â”€â”€ package.json
â”œâ”€â”€ libs/
â”‚   â””â”€â”€ pino-nestjs/                  # è‡ªå®šä¹‰Pinoæ—¥å¿—åº“
â”œâ”€â”€ docs/                             # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ scripts/                          # å¼€å‘è„šæœ¬
â””â”€â”€ package.json                      # æ ¹é…ç½®
```

### ğŸš€ å¯ç”¨çš„å‘½ä»¤

#### é¡¹ç›®çº§å‘½ä»¤
```bash
# å®‰è£…ä¾èµ–ï¼ˆè‡ªåŠ¨è§£å†³ç‰ˆæœ¬é—®é¢˜ï¼‰
pnpm install:deps

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm start:dev

# æ£€æŸ¥é¡¹ç›®çŠ¶æ€
./scripts/check-status.sh

# æ„å»ºé¡¹ç›®
pnpm build

# ä»£ç æ ¼å¼åŒ–
pnpm format

# ä»£ç æ£€æŸ¥
pnpm lint
```

#### APIé¡¹ç›®å‘½ä»¤
```bash
# å¯åŠ¨APIå¼€å‘æœåŠ¡å™¨
pnpm api:dev

# æ„å»ºAPIé¡¹ç›®
pnpm api:build

# è¿è¡ŒAPIæµ‹è¯•
pnpm api:test
```

### ğŸ“¦ å·²å®‰è£…çš„æ ¸å¿ƒä¾èµ–

#### NestJSç”Ÿæ€
- `@nestjs/core`: ^11.0.1
- `@nestjs/platform-fastify`: ^11.0.1
- `@nestjs/config`: ^3.2.0
- `@nestjs/jwt`: ^10.2.0
- `@nestjs/passport`: ^10.0.3
- `@nestjs/swagger`: ^8.0.0

#### æ•°æ®åº“å’ŒORM
- `@mikro-orm/core`: ^6.4.16
- `@mikro-orm/nestjs`: ^6.1.1
- `@mikro-orm/postgresql`: ^6.4.16
- `@mikro-orm/migrations`: ^6.4.16
- `@mikro-orm/seeder`: ^6.4.16
- `@mikro-orm/entity-generator`: ^6.4.16
- `@mikro-orm/reflection`: ^6.4.16
- `@mikro-orm/sql-highlighter`: ^1.0.1

#### è®¤è¯å’Œæƒé™
- `passport`: ^0.7.0
- `passport-jwt`: ^4.0.1
- `passport-local`: ^1.0.0
- `bcrypt`: ^5.1.1
- `casl`: ^1.1.0
- `@casl/ability`: ^6.7.3

#### æ—¥å¿—å’Œç¼“å­˜
- `pino`: ^9.0.0
- `pino-pretty`: ^11.0.0
- `redis`: ^4.6.0
- `ioredis`: ^5.3.0
- `cache-manager`: ^5.4.0

#### å·¥å…·åº“
- `joi`: ^17.12.0
- `uuid`: ^10.0.0
- `class-validator`: ^0.14.0
- `class-transformer`: ^0.5.1

### ğŸ”§ æŠ€æœ¯ç‰¹æ€§

#### æ¶æ„è®¾è®¡
- **DDD + Clean Architecture**: ä¸¥æ ¼çš„åˆ†å±‚æ¶æ„
- **Event Sourcing**: äº‹ä»¶æº¯æºæ”¯æŒ
- **CQRS**: å‘½ä»¤æŸ¥è¯¢èŒè´£åˆ†ç¦»
- **å¤šç§Ÿæˆ·**: ç§Ÿæˆ·éš”ç¦»æ”¯æŒ

#### æ€§èƒ½ä¼˜åŒ–
- **Fastify**: é«˜æ€§èƒ½HTTPå¹³å°
- **Pino**: é«˜æ€§èƒ½æ—¥å¿—åº“
- **Redis**: åˆ†å¸ƒå¼ç¼“å­˜
- **è¿æ¥æ± **: æ•°æ®åº“è¿æ¥æ± ç®¡ç†

#### å¼€å‘ä½“éªŒ
- **TypeScript**: å¼ºç±»å‹æ”¯æŒ
- **çƒ­é‡è½½**: å¼€å‘æ—¶è‡ªåŠ¨é‡è½½
- **ä»£ç è´¨é‡**: ESLint + Prettier
- **æµ‹è¯•æ”¯æŒ**: Jestæµ‹è¯•æ¡†æ¶

### ğŸ“ ä¸‹ä¸€æ­¥å¼€å‘è®¡åˆ’

#### ç¬¬ä¸€é˜¶æ®µï¼šå…±äº«å±‚å®Œå–„
1. **äº‹ä»¶æº¯æºå®ç°**: å®Œæˆäº‹ä»¶å­˜å‚¨å’Œå¤„ç†æœºåˆ¶
2. **æ•°æ®åº“é€‚é…å™¨**: å®ç°MikroORMå¤šæ•°æ®åº“é€‚é…
3. **é…ç½®ç®¡ç†**: å®ç°ç»Ÿä¸€çš„é…ç½®ç®¡ç†ç³»ç»Ÿ
4. **ç¼“å­˜ç®¡ç†**: å®ç°å¤šçº§ç¼“å­˜æ¶æ„

#### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒé¢†åŸŸå¼€å‘
1. **ç§Ÿæˆ·ç®¡ç†é¢†åŸŸ**: å®ç°ç§Ÿæˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç†
2. **ç”¨æˆ·ç®¡ç†é¢†åŸŸ**: å®ç°ç”¨æˆ·æ³¨å†Œå’Œç®¡ç†
3. **è®¤è¯æˆæƒé¢†åŸŸ**: å®ç°JWTè®¤è¯å’Œæƒé™éªŒè¯

#### ç¬¬ä¸‰é˜¶æ®µï¼šä¸šåŠ¡åŠŸèƒ½å¼€å‘
1. **æƒé™ç®¡ç†é¢†åŸŸ**: å®ç°RBACå’ŒCASLæƒé™
2. **ç»„ç»‡ç®¡ç†é¢†åŸŸ**: å®ç°ç»„ç»‡æ¶æ„ç®¡ç†
3. **ç”³è¯·å®¡æ ¸é¢†åŸŸ**: å®ç°å·¥ä½œæµå’Œå®¡æ ¸

### ğŸ¯ å¼€å‘æŒ‡å—

#### 1. å¼€å§‹å¼€å‘
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm start:dev

# è®¿é—®APIæ–‡æ¡£
http://localhost:3000/api
```

#### 2. ä»£ç è§„èŒƒ
- ä½¿ç”¨TypeScriptä¸¥æ ¼æ¨¡å¼
- éµå¾ªDDDå’ŒClean ArchitectureåŸåˆ™
- ç¼–å†™å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- ä½¿ç”¨TSDocæ³¨é‡Š

#### 3. æäº¤è§„èŒƒ
- ä½¿ç”¨Conventional Commits
- æäº¤å‰è‡ªåŠ¨è¿è¡Œlintå’Œtest
- éµå¾ªGit Flowå·¥ä½œæµ

### ğŸ“š ç›¸å…³æ–‡æ¡£

- [å¼€å‘ä»»åŠ¡æ¸…å•](./development-todo-list.md)
- [ç³»ç»Ÿè®¾è®¡æ–‡æ¡£](./design/iam-system-overview-design.md)
- [ä¸šåŠ¡éœ€æ±‚æ–‡æ¡£](./business-requirements/)

---

**é¡¹ç›®çŠ¶æ€**: âœ… åˆå§‹åŒ–å®Œæˆï¼Œå¯ä»¥å¼€å§‹å¼€å‘  
**æœ€åæ›´æ–°**: 2024å¹´12æœˆ  
**ç»´æŠ¤è€…**: å¼€å‘å›¢é˜Ÿ
